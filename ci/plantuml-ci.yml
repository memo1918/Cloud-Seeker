image: eclipse-temurin:17-jre-jammy

plantuml:
  before_script:
    - add-apt-repository universe
    - apt-get update 
    - apt-get install --no-install-recommends -y \
        graphviz \
        fonts-dejavu \
    - apt-get autoremove
    - apt-get clean \
    - rm -rf /var/lib/apt/lists/*
  script:
    - java -jar ./diagrams/bin/plantuml.jar
  artifacts:
    name: 'plantuml'
    paths:
      - diagrams/*.png